<!DOCTYPE html>
<html>
<head>
  <title>Templates</title>
  <script src="https://cdn.tiny.cloud/1/ca9gu622v859cj08zdh7li8mw7w5jehawmnwyn89cb59q8s8/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

  <script>
    tinymce.init({
      selector: '#body',
      height: 300,
      menubar: false,
      plugins: 'link image code lists',
      toolbar: 'undo redo | bold italic underline | bullist numlist | link image | code',
    });
  </script>
</head>
<body>
  <h1>Create Email Template</h1>
  <form method="POST">
    <input type="text" name="name" placeholder="Template Name" required />
    <input type="text" name="subject" placeholder="Subject" required />
    <textarea id="body" name="body"></textarea>
    <button type="submit">Save Template</button>
  </form>

  <h2>Saved Templates</h2>
  {% if templates and templates|length > 0 %}
    <ul>
      {% for template in templates %}
        <li><strong>{{ template[1] }}</strong> - {{ template[2] }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No templates yet.</p>
  {% endif %}

  <p><a href="/compose">Back to Compose</a></p>
</body>
</html>

